```java
package com.fisec.vpn.util;

import java.util.*;

//最开始的想法
class Solution {
    public List<String> letterCasePermutation(String s) {
        List<String> res = new ArrayList<>();
        char[] chars = s.toCharArray();
        StringBuilder path = new StringBuilder();
        dfs(chars, path, res, 0);
        return res;
    }

    private void dfs(char[] chars, StringBuilder path, List<String> res, int begin) {
        if (path.length() == chars.length) {
            res.add(path.toString());
            return;
        }
        for (int i = begin; i < chars.length; i++) {

            //剪枝操作
//            if (chars.length  - i < chars.length-path.length()) {
            if (i > path.length()) {
                break;
            }
            path.append(chars[i]);
            dfs(chars, path, res, i + 1);
            path.deleteCharAt(path.length() - 1);
            //如果是小写字母，可以添加一个大写字母
            if ('a' <= chars[i] && chars[i] <= 'z') {
                path.append((char) (chars[i] - 32));//添加它的大写字母
                dfs(chars, path, res, i + 1);
                path.deleteCharAt(path.length() - 1);//删除大写字母
            }
            //如果是大写字母，可以添加它的小写字母
            if ('A' <= chars[i] && chars[i] <= 'Z') {
                path.append((char) (chars[i] + 32));
                dfs(chars, path, res, i + 1);
                path.deleteCharAt(path.length() - 1);
            }
        }
    }
}

//直接用字符串，不用for循环数组
class SolutionBetter {
    List<String> list = new ArrayList();
    public List<String> letterCasePermutation(String s) {
        getStr(0, s, new StringBuilder());
        return list;
    }

    public void getStr(int index, String s, StringBuilder path){

        if(index == s.length()){
            list.add(path.toString());
            return;
        }

        char ch = s.charAt(index);
        path.append(ch);
        getStr(index + 1, s, path);
        path.deleteCharAt(path.length() - 1);

        // 判断是否是字符，如果是，则转换大小写
        if(!Character.isDigit(ch)){
            ch = (char)(ch - 'a' >= 0 ? ch - 32 : ch + 32);
            path.append(ch);
            getStr(index + 1, s, path);
            path.deleteCharAt(path.length() - 1);
        }
    }
}



```
