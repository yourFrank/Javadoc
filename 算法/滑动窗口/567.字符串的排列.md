```java
package com.fisec.vpn.util;

import java.util.*;



class Solution {
    //s2中包含s1的子串排列
    public boolean checkInclusion(String s1, String s2) {
        //window是用来保存
        Map<Character,Integer> window=new HashMap<>();
        Map<Character,Integer> need=new HashMap<>();
        for (int i = 0; i < s1.length(); i++) {
            need.put(s1.charAt(i),need.getOrDefault(s1.charAt(i),0)+1);
        }
        int left=0,right=0,valid=0;
        //窗口为[left,right)，上来直接获取right
        while (right<s2.length()){
            char c = s2.charAt(right);
            right++;
            if (need.containsKey(c)){
                window.put(c,window.getOrDefault(c,0)+1);
                if (window.get(c).equals(need.get(c))){
                    valid++;
                }
            }
            //窗口收缩，两种方式
//         方式1   while (right-left>=s1.length()){
            while (valid==need.size()){
                //更新值
                int len=right-left; //这里因为[left,right) ,所以窗口内的个数应该为right-left
//         方式1     if (need.size()==valid){
                if (s1.length()==len){
                    return true;
                }
                char b=s2.charAt(left);
                left++;
                if (need.containsKey(b)){
                    if (window.get(b).equals(need.get(b))){
                        valid--;
                    }
                    window.put(b,window.get(b)-1);
                }

            }
        }
        return false;
    }
}


```
